<view class="container">
  <!-- <view class="page-header">
    <view class="header-title">我的玩具列表</view>
    <view class="add-toy" bindtap="addToy">+ 添加玩具</view>
  </view> -->
  
  <view class="toy-list" wx:if="{{list.length > 0}}">
    <view class="toy-item" wx:for="{{list}}" wx:key="mappingId" bindtap="onListClick" data-id="{{item.mappingId}}" data-index="{{index}}">
      <view class="toy-image">
        <image src="{{item.url}}" mode="aspectFill"></image>
      </view>
      <view class="toy-info">
        <view class="toy-name">{{item.baseDeviceName}}</view>
      </view>
      <view class="delete-button" bindtap="deleteItem" data-index="{{index}}">
        <image src="/images/ic_delete.png" mode="aspectFit"></image>
      </view>
    </view>
  </view>
  <button class="add-button" bindtap="showModal">添加玩具</button>

  <!-- 弹窗 -->
  <view class="modal" hidden="{{!isModalShow}}">
    <view class="modal-content">
      <view class="modal-header">选择添加内容</view>
      <view class="modal-body">
        <view class="option" wx:for="{{addOptions}}" wx:key="id" bindtap="selectOption" data-index="{{index}}">
          {{item.name}}
        </view>
      </view>
      <view class="modal-footer">
        <button bindtap="hideModal">取消</button>
      </view>
    </view>
  </view>
</view>